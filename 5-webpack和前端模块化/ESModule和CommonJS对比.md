# 模块化

## ESModule

特点

- 静态结构：使用`import`和`export`语法进行模块的导入和导出，这些操作是静态的，意味着必须在文件的顶层使用，不能放在函数或条件语句中；
- 值的引用：`import`的成员是实时绑定的，所以他们指向的是模块的实时值，而不是复制其值；
- 支持异步加载：ESModule 支持一步加载模块，配合`import()`这样的动态导入；
- `tree-shaking`优化：由于是静态结构，工具可以更容易的进行分析优化，移除未使用的代码；

### 最终会被编译为什么？

## Common.js

最初是为服务器端的 JS 环境（如 Node.js）设计的模块化规范，后来也被广泛使用在前端，尤其是通过 bundle,如 webpack 处理

特点：

- 动态加载：模块的导入导出是在运行时处理的，使用 require 函数加载谋爱，通过 module.export 导出模块
- 值的复制：导入的模块的值是被复制的，也就是说，任何导入的值是模块被执行时的快照
- 同步加载：CommonJS 模块默认是同步加载的，这在服务器端没有问题，但是在浏览器短可能会有性能问题；
- 无法进行静态优化：由于其动态的运行时特性，不容易进行像 Tree Shaking 这样的静态代码分析和优化；
