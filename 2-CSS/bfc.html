<html><body><h1 id="bfc">BFC</h1>
<h2 id="什么是-bfc">什么是 BFC</h2>
<p>在 CSS 中，BFC（Block Formatting Context，块级格式化上下文）是 Web 页面的可视化 CSS 渲染的一部分，用于布局块级盒子并决定它们如何相互作用以及与其它元素的关系和相互作用。<strong>BFC 是一个隔离的独立容器</strong>，容器内部的元素不会影响到外面的元素，反之亦然。</p>
<h2 id="bfc-的工作原理">BFC 的工作原理</h2>
<p>BFC 规定了内部的 Block Box 如何布局，具体规则包括：</p>
<ol>
<li><strong>垂直布局</strong>：在 BFC 中，盒子发生的布局是垂直方向的，一个接一个地放置。</li>
<li><strong>盒子垂直间距</strong>：来自不同盒子的垂直距离由 <code>margin</code>决定。在 BFC 中，相邻的块级盒子的垂直外边距会发生重叠。</li>
<li><strong>BFC 的区域不会与 float box 重叠</strong>：BFC 可以用来清除浮动，因为浮动元素对 BFC 内部的块格式化盒子布局没有影响。</li>
<li><strong>计算 BFC 的高度时，浮动元素也参与计算</strong>：这是由于 BFC 内部的浮动元素也被视为 BFC 的一部分。</li>
</ol>
<h2 id="如何生成-bfc">如何生成 BFC</h2>
<p>BFC 通常由以下 CSS 属性的设置产生：</p>
<ul>
<li><code>float</code> 的值不是 <code>none</code>。</li>
<li><code>position</code> 的值不是 <code>static</code> 或 <code>relative</code>。</li>
<li><code>overflow</code> 的值不是 <code>visible</code>。</li>
<li><code>display</code> 的值是 <code>inline-block</code>、<code>table-cell</code>、<code>table-caption</code>、<code>flex</code>、<code>inline-flex</code>、<code>grid</code> 或 <code>inline-grid</code>。</li>
</ul>
<h3 id="应用场景">应用场景</h3>
<p><strong>1. 清除内部浮动</strong>：当容器内部的元素浮动时，容器不会自动扩展以包含该浮动元素。通过将容器设置为 BFC，可以使容器包裹内部的浮动元素。</p>
<p><strong>示例</strong>：</p>
<pre><code class="language-css">.container {
  overflow: hidden; /* 生成BFC */
}
.container .float-child {
  float: left;
}
</code></pre>
<p><strong>2. 阻止外边距折叠</strong>：相邻的块级元素常常会发生外边距折叠现象，通过创建 BFC 可以避免这种情况。</p>
<p><strong>示例</strong>：</p>
<pre><code class="language-css">.div1 {
  overflow: hidden; /* 生成BFC */
}
</code></pre>
<p><strong>3. 自适应多栏布局</strong>：可以利用 BFC 防止某个内容区域被浮动元素覆盖，实现侧栏和内容主体的布局。</p>
<p><strong>示例</strong>：</p>
<pre><code class="language-css">.sidebar {
  float: left;
  width: 200px;
}
.content {
  overflow: hidden; /* 生成BFC */
}
</code></pre>
<h3 id="总结">总结</h3>
<p>理解 BFC 对于深入掌握 CSS 布局技术至关重要，尤其是在涉及浮动布局和边距折叠的复杂布局中。通过适当地使用 BFC，开发者可以更精确地控制布局和元素之间的相互作用。</p>
</body></html>