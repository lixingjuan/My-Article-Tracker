<html><body><h1 id="class-可以做但-hooks-做不了的">class 可以做但 hooks 做不了的</h1>
<h2 id="错误边界">错误边界</h2>
<p>class 组件可以通过 <code>comonentDidCatch</code>和 <code>static getDerivedStateFromError</code> 来实现错误边界。这使得 class 组件可以捕获子组件的错误并将其显示为一个备用 UI</p>
<h2 id="组件卸载行为不一致">组件卸载行为不一致</h2>
<p>componentWillUnmount 仅在组件即将被卸载和销毁前调用一次</p>
<pre><code class="language-jsx">useEffect(() =&gt; {
  return () =&gt; {
    // dependencies的每次改变都会导致组件渲染从而导致这里的函数执行
  };
}, [dependencies]);
</code></pre>
<h2 id="获取派发更新的时间">获取派发更新的时间</h2>
<p>在类组件中，可以使用 componentDidUpdate 获取上一个 props 或 state,这对于比较更新后的状态很有用</p>
<h2 id="复杂的状态逻辑">复杂的状态逻辑</h2>
<p>class 组件中，setState 可以一次更新多个状态值</p>
</body></html>